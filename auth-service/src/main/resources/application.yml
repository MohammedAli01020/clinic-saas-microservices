# spring.application.name=auth-service

server:
  port: 9200

spring:
  application:
    name: auth-service
#  main:
#    allow-circular-references: true
  datasource:
    url: jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:clinic_auth}?createDatabaseIfNotExist=true&serverTimezone=UTC
    username: ${DB_USER:root}
    password: ${DB_PASS:root}
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: false
  flyway:
    enabled: true
    locations: classpath:db/migration

  kafka:
    bootstrap-servers: ${KAFKA_BOOTSTRAP:localhost:9092, localhost:9093}
    consumer:
      group-id: auth-service-group
      auto-offset-reset: earliest
      properties:
        spring.json.trusted.packages: 'com.clinic.*'
    producer:
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer
    listener:
      concurrency: 2

eureka:
  client:
    service-url:
      defaultZone: ${EUREKA_URL:http://localhost:8761/eureka/}
    register-with-eureka: true
    fetch-registry: true

app:
  jwt:
    issuer: clinic-auth
    access-exp-minutes: ${JWT_ACCESS_MIN:15}
    refresh-exp-days: ${JWT_REFRESH_DAYS:30}
    private-key: "LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tDQpNSUlFdkFJQkFEQU5CZ2txaGtpRzl3MEJBUUVGQUFTQ0JLWXdnZ1NpQWdFQUFvSUJBUUMveXQ5SzlXS2pLM2RTDQpESzRYeTZRV2FLQUNiRVRJRE55WjdEYWpDbUx1a1NFLzg5WHIra2owdHl5ZytpMEFKSzQ4V0ZQd3hleDVJQWUwDQpKVmxrT1Baajg4S2dzdWhxVzJHN3p5RmZ1SlZISFpQQzg3S0tPWlBheGR2U2FHb3ZiWXEyRkN4NjNVMnpOWXZKDQpIK2U3blN5dkxvcWtqZHFTb2dQZlJBTG01MEIrdXBOYkNPaG4xMHM3bTV2TFk0aTN5V2s1cWhpRmRvRjdwQzQ2DQpEQnNXdkFCbjljK3RMc1VTRENqbG5XWEl3Y1hwVmpLSnBHWHBtRDJOUFFGeFRyQVJlSFJRdEllYTFFWDdCVXQ5DQpYTDkzRFgxYjNoYURHUndXdEx0RldRQURzTCt5MGlhVnJWWDAyT3Fod2N3L0ExUW9GT0Zad3ZGa3FHekhkazRrDQo4T2d3c2VmUEFnTUJBQUVDZ2dFQVRxd21Talk4SHRpZW1tNlBIejJ1Y202NmJDUURWdGhIeVcvbXZaeHVGcFE3DQp3bU1BTmtzMWtBUnZieDBRUm9YRlh3V1FjU3lQSXVScnBJN0ppMTMrVytQS3kyWjRCZUMwUjNqZ3BNWXZuYnRaDQpPRmdFdmNSK2pQZ3FnclhJRU9wclF1TWxsOFNkc2N4ZUtjTkhxR01CeUY1Y0NzSVJqYUtkMmdDby9CU1NGU2szDQpNMnBMU3RySVIrVHVDeS9nMVAvUjZKOExUSEFZTEtWdFdmeHNqcllKdUtYeG42dWJXSFdSYlJxRmhSb2VvbFFjDQprQWRXYkVwajIzVlJrT3VGRmx1NDM4enBEakI0ZGNodTl5ZXprNG5LblVqOWlXVG5yZEEvZEtoWXVyNVJ0UTlWDQpGcTgvdnkwQW1GYUNqVUgxc29FRDA5R2dxRkF0M05DY0tqRzhRS2Fud1FLQmdRRHVOZUEwVzQ0N0tVWHpCVmFuDQpLMkRZS2UybjhiKzlXWEtDMjR2ZWlvVWMyb3VpWGh6aFVxQ2VZb0JHMUpHbFptSVZIYkhlV0hUTFRnR3I3Qk9CDQo0QXU1czd5MzdiZnA1Nno5cWYzUXNOejRvczd6OGFOKzFVV1JjTFJXZzhOd01abTF5WTVoZjd6Nk12eldFN2hyDQoxNkZDMnJxWGoxek1hOGQrVktGVUtSZlNZUUtCZ1FET0haTDlUaGl0S1hRdUplcWpGd1plZEJGMXFGWWlES05vDQp2QXVGUXhwRTF2c3RZUk5BVVZhRUUvSVp5VjRkWnlGcWFXZmZ3cm1scTlpM1hVaE5mdGl5RmRlZ0wzR1FJazVpDQpPakRyM2hHdXJldlliaEdXTHRGbHdoaER1ckQvckFaYjdGOEo5SzJoUDNDNWRFeHpXZm9rME83MWIzaGhzdEl0DQo4RHRub1lkSUx3S0JnQ05pWDE2SHB4WUVxSDVUOGE0OVZGSm4wQVNkZFhUai80Mk9uVFUrY0UxNzdUZitNTjRMDQpqdzVYNVdRZ0dVNXZhZXhuRDgvT1pmTDVNR2hnVmZsNTFXUU5YZUFZY0xSUEZMUk5kd1Z6OEM4Q3lDa1dZTW5yDQpWajBuZDdKT09rN0ZIMmNRZkpUaEM2cEN2cW55SGZmdS9PWllaVlUwRjMzS0dNVWNQeWFvUUFDaEFvR0FRZXhCDQpsQlREWGJieGVzVVR5Ny9VZ0tjODRsWEozckFPSDdSdE50MGtiTG9ac2dUblpGM2ZmdlRtTFFzenQ5SEJaVWg3DQpPWjBOUllpMkVzZWFGWGNwbGFQWXlGb0VSMlpCamJjdzZHK3BWaVk0Vll1MndrTU5KQysxRlF5RUNmSWFRcEpTDQpQMXZyb0xRcXVKWVMwWjRJbkhmYXhkTTJQSUUyS2cwNDRzZE4vbThDZ1lCNktlNDFaUVFXWFN"

#    ${JWT_PRIVATE_KEY}


#    private-key-path: ${JWT_PRIVATE_KEY_PATH:classpath:keys/private.pem}
#    public-key-path: ${JWT_PUBLIC_KEY_PATH:classpath:keys/public.pem}
